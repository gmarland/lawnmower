<!DOCTYPE html>
<html dir="ltr" lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=5.0" />
    <title>LawnmowerJS</title>

    <script type="module" src="/build/lawnmower.esm.js"></script>
    <script nomodule src="/build/lawnmower.js"></script>

    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700&display=swap" rel="stylesheet">

    <style>
      html, body, object-editor {
        font-family: 'Roboto', sans-serif;
        font-size: 14px;
        position: relative;
        width: 100%;
        height: 100%;
        padding: 0px;
        margin: 0px;
      }

      select {
        font-family: 'Roboto', sans-serif;
      }
      @font-face {
        font-family: 'Roboto';
        src: url('https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700&display=swap');
      }
    </style>
  </head>
  <body>
    <lm-document id="main" starting-distance="1000">
      <lm-video-controls id="demo-controls"></lm-video-controls>
      <lm-modal id="image-modal" border-radius="10">
        <lm-image border-radius="20" 
                  src="https://m.media-amazon.com/images/M/MV5BNDFkYTI5YzctZDBjZi00MmVkLTlmZmQtMjhmNjcxZmZkZjFlXkEyXkFqcGdeQVRoaXJkUGFydHlJbmdlc3Rpb25Xb3JrZmxvdw@@._V1_.jpg"></lm-image>
      </lm-modal>
      <lm-360video id="demo-video-360" src="http://commondatastorage.googleapis.com/gtv-videos-bucket/sample/ElephantsDream.mp4"></lm-360video>
      <lm-div margin="10" background-color="#ff2211">
        <lm-div width="2000" background-color="#00ffff" margin="30" layout="Column" item-vertical-align="Bottom" vertical-align="Center" horizontal-align="Right" padding="10">
          <lm-div width="500" background-color="#fffff1" margin="10"padding="10">
            <lm-text id="demo-text-1" font-color="#222222" background-color="#0f00f1" padding="15" text-decoration="bold">
              Jumping

              erverv


              erverv
            </lm-text>
            <lm-text id="demo-text-2" font-color="#222222" background-color="#ff00f2" padding="15" text-decoration="bold">
              Hello Sarah

              How are you?

              reher

              erherherherherhh erherherherher


              erherherherher
              ererg


              herehe
            </lm-text>  
            <lm-text id="demo-text-3" font-color="#222222" background-color="#ff00f3" padding="15" text-decoration="bold">
              Hello Sarah

              How are you?

              reher

              erher
            </lm-text>  
          </lm-div>
          <lm-layout id="doom" width="500">
            <lm-text width="600" font-color="#00ff00" background-color="#ff0022" padding="10" text-decoration="italic">
              This is but a test ererg reg re erger   e ergergerge er g er ger gergerg erg  gregre
    
              gerreger
    
              ergergergergre
            </lm-text>
          </lm-layout>
          <lm-video id="demo-video-1"
                    width="400" 
                    src="http://commondatastorage.googleapis.com/gtv-videos-bucket/sample/BigBuckBunny.mp4" 
                    placeholder="10"></lm-video>
          <lm-text width="500" font-color="#222222" background-color="#ff00ff" padding="15" text-decoration="bold">
            Halloween

            Spooky
          </lm-text>  
        </lm-div>
        <lm-div id="column-div-1" background-color="#602202" height="100" margin="20" layout="Column" padding="20" item-vertical-align="Top">
          <lm-div  width="500" id="demo-div-1"  margin="20" background-color="#222222" padding="20">
            <lm-text id="360-video-button" border-radius="10" height="400" font-color="#222222" background-color="#ffffff" padding="15">
              Play 360 Video
            </lm-text>
            <lm-text background-color="#ff00ff" padding="15" border-radius="10">
              You can just push reset
  
              trade me in for a better one
            </lm-text>
            <lm-layout id="boom">
              <lm-asset 
                id="fox-asset"
                active-animation="Walk"
                radius="500" 
                y-rotation="90"
                src="https://github.khronos.org/glTF-Sample-Viewer-Release/assets/models/2.0/Fox/glTF/Fox.gltf"></lm-asset>
            </lm-layout>
          </lm-div>
          <lm-div width="800" height="800" background-color="#00d000" margin="10" padding="10" border-radius="20" vertical-align="Top" horizontal-align="Middle-.3"> 
            <lm-image id="demo-image"
                      border-radius="20" 
                      width="300"
                      modal="true" 
                      src="https://hips.hearstapps.com/hmg-prod.s3.amazonaws.com/images/catherine-zeta-jones-jenna-ortgea-luis-guzman-isaac-ordonez-wednesday-1660718014.jpg?crop=1.00xw:0.446xh;0,0.0999xh&resize=768:*"></lm-image>
            <lm-text width="300" border-radius="10" font-color="#ffffff" background-color="#222222" padding="10" text-decoration="italic">
              jump 

              this is it
            </lm-text>
          </lm-div>
          <lm-div id="demo-div-2" height="600" width="500" background-color="#ff0000" margin="5" vertical-align="Bottom" horizontal-align="Right">
            <lm-text width="300" font-color="#222222" background-color="#ffffff" padding="10">
              not now

              this is a jump

              rergreerg
            </lm-text>
            <lm-layout id="doom">
              <lm-text font-color="#222000" background-color="#ffffff" padding="20" text-decoration="italic">
                too hot too handle
              </lm-text>
            </lm-layout>
          </lm-div>
        </lm-div>
      </lm-div>
    </lm-body>
    <script>
      (async () => {
        await customElements.whenDefined('lm-document');
        const main = document.getElementById('main');

        await main.setLayout("boom");

        //****** Testing assets
        
        /*setTimeout(async () => {
          const foxy = document.getElementById("fox-asset");
          
          //foxy.radius = 800;
          foxy.src = "https://github.khronos.org/glTF-Sample-Viewer-Release/assets/models/2.0/DamagedHelmet/glTF/DamagedHelmet.gltf";
          
          foxy.xRotation = 0;
          foxy.yRotation = 0;
          foxy.zRotation = 0;

          setTimeout(async () => {
            foxy.xRotation = 90;
            foxy.yRotation = 90;
            foxy.zRotation = 90;

            foxy.yRotationSpeed = 2;
          }, 3000)
        }, 3000);*/
        
        // ----- Testing changing asset visibility
        setTimeout(() => {
          document.getElementById('fox-asset').visible = false;
          
          setTimeout(() => {
            document.getElementById('fox-asset').visible = true;
          }, 3000);
        }, 3000);
        
        // ****** Testing modal-dialog

        /*await main.showModal("image-modal");

        setTimeout(() => {
          const imageModal = document.getElementById('image-modal');
          imageModal.borderRadius = 30;
          imageModal.borderColor = "#ff0000";
          imageModal.borderWidth = 10;
          imageModal.backgroundColor = "#00ffff";
          imageModal.padding = 20;
          imageModal.closeButtonWidth = 100;
          
          setTimeout(async () => {
            await main.closeModal("image-modal");
          }, 3000);
        }, 3000);*/
        
        // ****** Testing layouts

        /*setTimeout(() => {
          main.setLayout("doom");
          
          setTimeout(() => {
            main.setLayout("boom");
          }, 3000);
        }, 3000);*/
        
        // ****** Testing divs

        /*setTimeout(() => {
          const demoDiv1 = document.getElementById("demo-div-1");
          demoDiv1.backgroundColor = "#ff0000";
          demoDiv1.borderRadius = 20;
          demoDiv1.height = 800;
          //demoDiv1.padding=60;
          demoDiv1.verticalAlign = "Middle";

          const columnDiv1 = document.getElementById("column-div-1");
          columnDiv1.itemVerticalAlign = "Middle";
          
          setTimeout(() => {
            demoDiv1.verticalAlign = "Bottom";
            
            const demoDiv2 = document.getElementById("demo-div-2");
            demoDiv2.width = 800;
            demoDiv2.horizontalAlign = "Left";
            
            setTimeout(() => {
              demoDiv2.width = 1000;
              demoDiv2.horizontalAlign = "Right";
            }, 3000);
          }, 3000);
        }, 3000);*/

        // ****** Testing images

        // ----- Testing changing image properties
        /*setTimeout(() => {
          const demoImage = document.getElementById('demo-image');
          demoImage.src = "https://media.istockphoto.com/id/90976521/photo/hastings-in-east-sussex-england.jpg?s=1024x1024&w=is&k=20&c=AFi1FWZLyTDpeY_6_pchKUzmluTqsTx-nkUcauXXMk8=";
          demoImage.borderRadius = 6;
          demoImage.width=1000;
          //demoImage.height=1000;
        }, 3000);*/

        // ----- Testing changing image visibility
        /*setTimeout(() => {
          document.getElementById('demo-image').visible = false;
          
          setTimeout(() => {
            document.getElementById('demo-image').visible = true;
          }, 3000);
        }, 3000);*/

        // ****** Testing text

        // ----- Testing changing text properties
        /*setTimeout(() => {
          document.getElementById('demo-text-2').text = "now now now new text\n\r rever\n\r boom";

          setTimeout(() => {
            document.getElementById('demo-text-1').text = "why why why new text";
          }, 3000);
        }, 3000);*/

        // ----- Testing changing text properties
        /*setTimeout(() => {
          const demoText2 = document.getElementById('demo-text-2');
          demoText2.borderRadius = 20;
          demoText2.fontSize = 30;
          demoText2.fontColor = "#ffffff";
          demoText2.textDecoration = "italic";
          
          const demoText3 = document.getElementById('demo-text-3');
          demoText3.textDecoration = "italic";
          demoText3.backgroundColor = "#e2e321";
          demoText3.padding = 30;

          setTimeout(() => {
            demoText2.fontFamily = "Roboto";
            demoText2.textDecoration = "bold italic";
            demoText2.width = 200;

            demoText3.height = 1000;
          }, 3000);
        }, 3000);*/

        // ----- Testing changing text visibility
        /*setTimeout(() => {
          document.getElementById('demo-text-2').visible = false;
          
          setTimeout(() => {
            document.getElementById('demo-text-2').visible = true;
          }, 3000);
        }, 3000);*/
        
        // ****** Testing video

        // ----- Testing changing video src
        /*setTimeout(() => {
          document.getElementById('demo-video-1').src = "http://commondatastorage.googleapis.com/gtv-videos-bucket/sample/ElephantsDream.mp4";
          document.getElementById('demo-video-1').play360 = true;
        }, 3000);*/
        
        // ----- Testing changing video properties
        /*setTimeout(() => {
          const demoVideo1 = document.getElementById('demo-video-1');
          demoVideo1.placeholder = 20;
          //demoVideo1.width = 1000;
          //demoVideo1.height = 1000;
        }, 3000);*/

        // ----- Testing changing video visibility
        /*setTimeout(() => {
          document.getElementById('demo-video-1').visible = false;
          
          setTimeout(() => {
            document.getElementById('demo-video-1').visible = true;
          }, 3000);
        }, 3000);*/
        
        // ****** Testing 360 video

        /*setTimeout(() => {
            document.getElemetById('demo-video-360').play();
        }, 3000);*/

        // ****** Testing video controls

        /*setTimeout(async () => {
          const demoControls = document.getElementById("demo-controls");
          await demoControls.show(false);
          demoControls.backgroundColor = "#ff0000";
          demoControls.width=300;
          demoControls.height=50;
          demoControls.x = 100;
          demoControls.y = 100;
        }, 3000);*/
      })();

      document.getElementById("360-video-button").addEventListener("click", async () => {
        const demoVideo = document.getElementById("demo-video-360");
        await demoVideo.play();

        /*setTimeout(async () => {
          demoVideo.videoRadius = 0;
          await demoVideo.play();
        }, 10000);*/
      });

      const foxElement = document.getElementById("fox-asset");

      foxElement.addEventListener("click", async () => {
        const animationNames = await foxElement.getAnimationNames();

        if (animationNames.length > 0) {
          const activeAnimation = foxElement.activeAnimation;

          if (activeAnimation) {
            for (let i=0; animationNames.length; i++) {
              if (animationNames[i] == activeAnimation) {
                if (i < (animationNames.length-1)) {
                  foxElement.activeAnimation = animationNames[(i+1)];
                }
                else {
                  foxElement.activeAnimation = animationNames[0];
                }
                break;
              }
            }
          }
          else {
            await foxElement.setActiveAnimation(animationNames[0]);
          }
        }
      }, false);
    </script>
  </body>
</html>
